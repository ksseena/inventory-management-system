{% extends 'tool_template/base_template.html' %}

{% block custom_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'pts_tables/datatables/css/jquery.dataTables.min.css' %}">
<link rel="stylesheet" href="{% static 'pts_tables/datatables/css/buttons.dataTables.min.css' %}">
{% endblock custom_css %}


{% block main_content %}

{% load static %}

<section class="content">
<div class="container-fluid">

<div class="row">
    <div class="col-md-12">
        <div class="card card-primary">
            <div style="height: 40px;" class="card-header">
                <h3 class="card-title">Tranfered Data(P75 to P91)</h3>
            </div>

            <div class="card-body">
                
                <div style="padding-top: 5px;padding-bottom: 10px;padding-right: 10px;">
              
                </div>
                <div class="table-responsive">
                    <table id="example" style="font-size: small;" class="table table-bordered table-responsive-sm table-striped nowrap">
                        <thead class="thead-light">
                            <tr>
                                <th style="background-color: rgb(40, 233, 40);" colspan="8">
                                    From
                                </th>
                                <th style= "background-color: gold;" colspan="7">
                                    to
                                </th>
                            </tr>
                        <tr>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">#ID</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Project</th>
                            <th style="background-color:#86b9a0;color: rgb(255, 255, 255);"> IM Part No</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Items</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Spec</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Function</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Location</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Current Stock</th>
                            
                            

                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Project</th>
                            <th style="background-color:#86b9a0;color: rgb(255, 255, 255);"> IM Part No</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Items</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Spec</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Function</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Location</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Current Stock</th>
                           
                           
                            </tr>
                        </thead>
                        <tbody>
                        {% for row in tranfer_data %}
                        <tr style="height: 20px;">
                        <td>{{ row.id }}</td>
                        <td>{{ row.item_id1.project }}</td>
                        <td>{{ row.item_id1.im_part_no }}</td>
                        <td>{{ row.item_id1.item_name }}</td>
                        <td>{{ row.item_id1.spec }}</td>
                        <td>{{ row.item_id1.function }}</td>
                        <td>{{ row.item_id1.location }}</td>
                        <td>{{ row.item_id1.current_stock }}</td>

                        
                        
         


                        <td>{{ row.item_id2.project }}</td>
                        <td>{{ row.item_id2.im_part_no }}</td>
                        <td>{{ row.item_id2.item_name }}</td>
                        <td>{{ row.item_id2.spec }}</td>
                        <td>{{ row.item_id2.function }}</td>
                        <td>{{ row.item_id2.location }}</td>
                        <td>{{ row.item_id2.current_stock }}</td>
                           
                    
                    </tr>
                        {% endfor %}
                    </tbody>
                       <tfoot>
                        <tr>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">#ID</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Project</th>
                            <th style="background-color:#86b9a0;color: rgb(255, 255, 255);"> IM Part No</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Items</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Spec</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Function</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Location</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Current Stock</th>
                            
                            

                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Project</th>
                            <th style="background-color:#86b9a0;color: rgb(255, 255, 255);"> IM Part No</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Items</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Spec</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Function</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Location</th>
                            <th style="background-color: #86b9a0;color: rgb(255, 255, 255);">Current Stock</th>
                           
                           
                            </tr>
                         </tfoot>
                    </table>
                </div>
            </div>
            <!-- /.card-body -->
        </div>
    </div>
</div>

</div><!-- /.container-fluid -->
{% endblock main_content %}
{% block custom_js %}


<script src="{% static 'pts_tables/datatables/js/jquery-3.5.1.js'  %}"></script>
<script src="{% static 'pts_tables/datatables/js/jquery.dataTables.min.js'  %}"></script>
<script src="{% static 'pts_tables/datatables/js/dataTables.buttons.min.js'  %}"></script>
<script src="{% static 'pts_tables/datatables/js/jszip.min.js'  %}"></script>
<script src="{% static 'pts_tables/datatables/js/pdfmake.min.js'  %}"></script>
<script src="{% static 'pts_tables/datatables/js/vfs_fonts.js'  %}"></script>
<script src="{% static 'pts_tables/datatables/js/buttons.html5.min.js'  %}"></script>
<script src="{% static 'pts_tables/datatables/js/buttons.print.min.js'  %}"></script>
<script>
            $(document).ready(function() {
                $('#example').DataTable( {
                    "lengthMenu": [[50, 100, 250, 500, -1], [50, 100, 250, 500, "All"]],
                       
                        select: true,
                        "scrollY": 600,
                        "scrollX": true,
                        
                    initComplete: function () {
                        this.api().columns().every( function () {
                            var column = this;
                            var select = $('<select><option value=""></option></select>')
                                .appendTo( $(column.footer()).empty() )
                                .on( 'change', function () {
                                    var val = $.fn.dataTable.util.escapeRegex(
                                        $(this).val()
                                    );
            
                                    column
                                        .search( val ? '^'+val+'$' : '', true, false )
                                        .draw();
                                } );
            
                            column.data().unique().sort().each( function ( d, j ) {
                                select.append( '<option value="'+d+'">'+d+'</option>' )
                            } );
                        } );
                    }
                } );
            } );
</script>
{% endblock custom_js %}